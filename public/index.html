<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Mustafa Iqbal ‚Äî Cybersecurity Student</title>
  <meta name="description" content="Portfolio of Mustafa Iqbal ‚Äî cybersecurity student focusing on SOC/IR, secure backend development, RBAC, audit logging, and log analysis." />
  <meta name="keywords" content="Mustafa Iqbal, cybersecurity, SOC, incident response, RBAC, secure coding, Karachi, Pakistan, PostgreSQL, Node.js, Java, Python" />
  <link rel="canonical" href="https://your-domain.example/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Mustafa Iqbal ‚Äî Cybersecurity Student" />
  <meta property="og:description" content="SOC/IR fundamentals, secure coding, RBAC, audit logging. Projects, certifications, and contact info." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://your-domain.example/" />
  <meta property="og:image" content="https://your-domain.example/og-card.png" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Mustafa Iqbal ‚Äî Cybersecurity Student" />
  <meta name="twitter:description" content="SOC/IR fundamentals, secure coding, RBAC, audit logging. Projects, certifications, and contact info." />
  <meta name="twitter:image" content="https://your-domain.example/og-card.png" />

  <meta name="theme-color" content="#0f172a" />

  <!-- Favicon set (replace with your files if you have them) -->
  <link rel="icon" href="favicon.ico" sizes="any" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="manifest" href="site.webmanifest" />

  <!-- Schema.org JSON-LD (Person) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Mustafa Iqbal",
    "jobTitle": "Cybersecurity Student",
    "email": "mailto:talhamustafa642@gmail.com",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Karachi",
      "addressCountry": "PK"
    },
    "sameAs": [
      "https://github.com/Mustafa-Hazard",
      "https://linkedin.com/in/mustafa-muhammad-i-75434922b",
      "https://wa.me/923302479956"
    ],
    "url": "https://your-domain.example/"
  }
  </script>

  <style>
    /* ---------- Design Tokens ---------- */
    :root{
      --bg:#0b1020;--panel:#0f172a;--text:#e5e7eb;--muted:#94a3b8;
      --brand:#22d3ee;--brand-2:#60a5fa;--ring:rgba(96,165,250,.4);
      --card:#0b1220;--border:#1f2937;--success:#22c55e;--danger:#ef4444;
      --shadow:0 10px 30px rgba(2,6,23,.5);color-scheme:dark
    }
    :root.light{
      --bg:#f8fafc;--panel:#fff;--text:#0f172a;--muted:#475569;
      --brand:#0ea5e9;--brand-2:#2563eb;--ring:rgba(14,165,233,.35);
      --card:#f8fafc;--border:#e5e7eb;color-scheme:light
    }

    /* ---------- Base ---------- */
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
      background:radial-gradient(1000px 600px at 20% -10%, rgba(34,211,238,.12), transparent 50%),
                 radial-gradient(800px 500px at 120% 10%, rgba(96,165,250,.12), transparent 60%),
                 var(--bg);
      color:var(--text)
    }
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    :focus-visible{outline:3px solid var(--brand);outline-offset:2px}

    /* ---------- Layout ---------- */
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    header.topbar{
      position:sticky;top:0;z-index:50;
      backdrop-filter:saturate(140%) blur(8px);
      background:color-mix(in oklab, var(--bg) 90%, transparent);
      border-bottom:1px solid var(--border)
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.2px}
    .logo{width:28px;height:28px;display:grid;place-items:center;border-radius:8px;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#000;font-weight:900}
    .menu{display:flex;gap:18px;flex-wrap:wrap}
    .menu a{color:var(--muted);font-weight:600}
    .menu a:hover,.menu a[aria-current="page"]{color:var(--text)}
    .actions{display:flex;gap:8px;align-items:center}
    .btn,button.btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,var(--brand),var(--brand-2));color:white;border:none;border-radius:12px;padding:10px 14px;font-weight:700;box-shadow:var(--shadow);cursor:pointer}
    .btn.secondary{background:transparent;color:var(--text);border:1px solid var(--border);box-shadow:none}
    .btn.ghost{background:transparent;color:var(--muted);border:1px dashed var(--border)}

    /* ---------- Skip link ---------- */
    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:12px;top:12px;width:auto;height:auto;background:var(--panel);border:2px solid var(--brand);border-radius:8px;padding:8px 12px;z-index:1000}

    /* ---------- Hero ---------- */
    .hero{padding:48px 0 24px;display:grid;align-items:center;gap:32px;grid-template-columns:1.1fr}
    .hero h1{font-size:clamp(30px,4vw,48px);line-height:1.1;margin:0 0 12px}
    .lead{color:var(--muted);font-size:clamp(16px,2.5vw,18px);margin:0 0 24px}
    .quick{display:flex;gap:10px;flex-wrap:wrap}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:color-mix(in oklab, var(--panel) 70%, transparent);border:1px solid var(--border);color:var(--muted);font-weight:600;font-size:13px}

    /* ---------- Sections ---------- */
    section{padding:36px 0}
    h2.section-title{font-size:22px;margin:0 0 18px;letter-spacing:.2px}
    .grid{display:grid;gap:16px}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:var(--shadow)}
    .card h3{margin:0 0 8px;font-size:18px}
    .meta{color:var(--muted);font-size:14px}
    .skills{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--border);border-radius:12px;background:var(--card);font-weight:600}

    /* ---------- Projects filter ---------- */
    .filterbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
    .input{
      background:var(--card);color:var(--text);border:1px solid var(--border);
      border-radius:10px;padding:10px 12px;min-width:240px
    }
    .tag{cursor:pointer}
    .tag.active{outline:2px solid var(--brand)}

    /* ---------- Back to top ---------- */
    #toTop{
      position:fixed;right:16px;bottom:16px;display:none;padding:10px 12px;border-radius:12px;border:1px solid var(--border);
      background:var(--panel);color:var(--text);box-shadow:var(--shadow)
    }

    /* ---------- Footer ---------- */
    footer{padding:32px 0 60px;color:var(--muted);font-size:14px;border-top:1px solid var(--border)}

    /* ---------- Responsive ---------- */
    @media (min-width:880px){
      .hero{grid-template-columns:1.2fr .8fr}
      .hero .panel{justify-self:end;width:min(420px,95%)}
    }

    /* ---------- Print styles (nice PDF) ---------- */
    @media print{
      :root{color-scheme:light}
      body{background:white}
      header, #toTop, .actions, .quick, .filterbar, .row .btn{display:none !important}
      a{color:#000;text-decoration:underline}
      .card{box-shadow:none;border:1px solid #ddd}
      footer{border-top:1px solid #ddd}
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <!-- Top Navigation -->
  <header class="topbar" role="banner">
    <div class="wrap nav">
      <a class="brand" href="#top" aria-current="page">
        <span class="logo" aria-hidden="true">M</span><span>Mustafa Iqbal</span>
      </a>
      <nav class="menu" aria-label="Primary">
        <a href="#projects">Projects</a>
        <a href="#skills">Skills</a>
        <a href="#education">Education</a>
        <a href="#certs">Certifications</a>
        <a href="#contact">Contact</a>
      </nav>
      <div class="actions">
        <button class="btn secondary" id="themeToggle" type="button" aria-label="Toggle theme">üåó Theme</button>
        <a class="btn" id="resumeBtn" href="/resume.pdf" target="_blank" rel="noopener">Download R√©sum√©</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <main id="main" class="wrap" role="main">
    <section class="hero" id="top" aria-labelledby="intro-title">
      <div>
        <h1 id="intro-title">Cybersecurity Student in Karachi, Pakistan</h1>
        <p class="lead">
          I‚Äôm <strong>Mustafa Iqbal</strong> ‚Äî focused on <em>SOC/IR fundamentals</em>, <em>secure backend development</em> (RBAC, audit logging), and <em>log analysis</em>. I enjoy turning messy alerts into clear action.
        </p>
        <div class="quick" aria-label="Quick facts">
          <span class="pill">üî≠ SOC Monitoring</span>
          <span class="pill">üß™ Alert Triage</span>
          <span class="pill">üîé IOC Extraction</span>
          <span class="pill">üõ°Ô∏è Secure Coding</span>
          <span class="pill">üêò PostgreSQL</span>
          <span class="pill">üêß Linux CLI</span>
        </div>
        <div class="row" style="margin-top:14px">
          <a class="btn" href="mailto:talhamustafa642@gmail.com">Email Me</a>
          <a class="btn secondary" href="https://wa.me/923302479956" target="_blank" rel="noopener">WhatsApp</a>
          <a class="btn secondary" href="https://github.com/Mustafa-Hazard" target="_blank" rel="noopener">GitHub</a>
          <a class="btn secondary" href="https://linkedin.com/in/mustafa-muhammad-i-75434922b" target="_blank" rel="noopener">LinkedIn</a>
        </div>
      </div>

      <!-- Side Panel: At-a-glance -->
      <aside class="panel card" aria-label="At a glance">
        <h3>At a glance</h3>
        <div class="meta">Role: Cybersecurity Student</div>
        <div class="meta">Location: Karachi, Pakistan</div>
        <div class="meta">Email: <a href="mailto:talhamustafa642@gmail.com">talhamustafa642@gmail.com</a></div>
        <hr style="border:none;border-top:1px solid var(--border);margin:12px 0" />
        <div class="list" style="display:grid;gap:8px">
          <a href="/resume.pdf" target="_blank" rel="noopener">üìÑ R√©sum√© (PDF)</a>
          <a href="https://github.com/Mustafa-Hazard/Incident_Report_Analysis" target="_blank" rel="noopener">üóÇÔ∏è Incident Report ‚Äî DDoS (ICMP)</a>
          <a href="https://github.com/Mustafa-Hazard/Attendance" target="_blank" rel="noopener">üóÇÔ∏è Attendance Manager (RBAC)</a>
        </div>
      </aside>
    </section>

    <!-- Projects -->
    <section id="projects" aria-labelledby="projects-title">
      <h2 class="section-title" id="projects-title">Projects</h2>

      <!-- Project search/filter -->
      <div class="filterbar" role="search">
        <input class="input" type="search" id="projectSearch" placeholder="Search projects (e.g., NIST, Node, RBAC)..." aria-label="Search projects" />
        <button class="btn secondary" type="button" id="clearSearch">Clear</button>
        <div class="row" aria-label="Quick tags">
          <button class="chip tag" data-tag="NIST">NIST</button>
          <button class="chip tag" data-tag="RBAC">RBAC</button>
          <button class="chip tag" data-tag="PostgreSQL">PostgreSQL</button>
          <button class="chip tag" data-tag="Java">Java</button>
          <button class="chip tag" data-tag="Node.js">Node.js</button>
        </div>
      </div>

      <div class="grid" id="projectGrid">
        <article class="card project" data-tags="NIST,IOC,Incident Response">
          <h3>Incident Report ‚Äî DDoS (ICMP)</h3>
          <p class="meta">Hands-on simulated incident report following NIST Cybersecurity Framework (2025).</p>
          <p>
            Wrote a full lifecycle report (Identify ‚Üí Protect ‚Üí Detect ‚Üí Respond ‚Üí Recover), including packet patterns, indicators of compromise, triage notes, and response playbook steps.
          </p>
          <div class="row">
            <a class="btn" href="https://github.com/Mustafa-Hazard/Incident_Report_Analysis" target="_blank" rel="noopener">View Repo</a>
            <a class="btn secondary" href="https://raw.githubusercontent.com/Mustafa-Hazard/Incident_Report_Analysis/main/Incident_Report_Analysis_NIST_Framework_MustafaMuhammad.pdf" target="_blank" rel="noopener">Read PDF</a>
            <span class="chip">NIST CSF</span><span class="chip">IOC Extraction</span><span class="chip">Incident Response</span>
          </div>
        </article>

        <article class="card project" data-tags="RBAC,Node.js,PostgreSQL,Audit">
          <h3>Attendance Manager (RBAC)</h3>
          <p class="meta">Node.js + PostgreSQL with sessions and audit logging.</p>
          <p>Role-based access (Admin/Teacher/Student), secure sessions, and event-based audit trails. Focused on input validation and least-privilege design.</p>
          <div class="row">
            <a class="btn" href="https://github.com/Mustafa-Hazard/Attendance" target="_blank" rel="noopener">View Repo</a>
            <span class="chip">Node.js</span><span class="chip">PostgreSQL</span><span class="chip">RBAC</span><span class="chip">Audit Logging</span>
          </div>
        </article>

        <article class="card project" data-tags="Java,CLI,Login">
          <h3>Restaurant Console App (Java)</h3>
          <p class="meta">CLI application with secure login and billing.</p>
          <p>Showcases credential handling, menu logic, and error-checked input flows. Demonstrates Java OOP and clean separation of concerns.</p>
          <div class="row">
            <span class="chip">Java</span><span class="chip">CLI</span><span class="chip">Secure Login</span>
          </div>
        </article>

        <article class="card project" data-tags="Node.js,PostgreSQL,Validation">
          <h3>Grade Tracker (Node + Postgres)</h3>
          <p class="meta">Indexed queries + robust validation (repo cleanup in progress).</p>
          <p>Schema with sensible indexes, server-side validation, and defensive query building to reduce injection risk and improve performance.</p>
          <div class="row">
            <span class="chip">Node.js</span><span class="chip">PostgreSQL</span><span class="chip">Input Validation</span>
          </div>
        </article>
      </div>
      <p id="noResults" class="meta" style="display:none">No projects match your search.</p>
    </section>

    <!-- Skills -->
    <section id="skills" aria-labelledby="skills-title">
      <h2 class="section-title" id="skills-title">Skills</h2>
      <div class="skills">
        <span class="chip">Incident Response Basics</span><span class="chip">SOC Monitoring</span>
        <span class="chip">Alert Triage</span><span class="chip">Log Analysis</span>
        <span class="chip">IOC Extraction</span><span class="chip">RBAC / AuthZ</span>
        <span class="chip">Audit Logging</span><span class="chip">Secure Coding</span>
        <span class="chip">Java</span><span class="chip">Python</span><span class="chip">Node.js</span>
        <span class="chip">SQL / PostgreSQL</span><span class="chip">Git &amp; GitHub</span><span class="chip">Linux CLI</span>
      </div>
    </section>

    <!-- Education -->
    <section id="education" aria-labelledby="edu-title">
      <h2 class="section-title" id="edu-title">Education</h2>
      <div class="card">
        <h3>Shaheed Zulfikar Ali Bhutto Institute of Science &amp; Technology (SZABIST), Karachi</h3>
        <p class="meta">3rd Year ¬∑ 5th Semester</p>
        <p>Focus: Cybersecurity foundations, secure backend development, SOC/IR fundamentals.</p>
        <p class="meta">Subjects/Tags: Networks, Operating Systems, Secure Coding, Databases</p>
      </div>
    </section>

    <!-- Certifications -->
    <section id="certs" aria-labelledby="certs-title">
      <h2 class="section-title" id="certs-title">Certifications</h2>
      <div class="grid">
        <article class="card">
          <h3>Python Pro ‚Äî Udemy (2025)</h3>
          <a class="btn secondary" href="https://www.udemy.com/certificate/UC-dbdf73dc-9367-4df0-b854-486c0b946b9a/" target="_blank" rel="noopener">Verify</a>
        </article>
        <article class="card">
          <h3>Linux for Beginners ‚Äî Udemy (2025)</h3>
          <a class="btn secondary" href="https://www.udemy.com/certificate/UC-91ec6ae7-dc40-42dc-8a3f-504f880ef5b8/" target="_blank" rel="noopener">Verify</a>
        </article>
        <article class="card">
          <h3>SEMrush Academy (2025)</h3>
          <a class="btn secondary" href="https://static.semrush.com/academy/certificates/7b86fc0626/mustafa-muhammad-iqbal_25.pdf" target="_blank" rel="noopener">View PDF</a>
        </article>
        <article class="card">
          <h3>Google Cybersecurity Specialization ‚Äî Coursera (4/9)</h3>
          <div class="list" style="display:grid;gap:6px">
            <a href="https://coursera.org/share/77e83be860c6819d79c6947fc3961c07" target="_blank" rel="noopener">Foundations of Cybersecurity</a>
            <a href="https://coursera.org/share/56d5dd64706bf09f8bf4d6db8e281897" target="_blank" rel="noopener">Play It Safe</a>
            <a href="https://coursera.org/share/ab08bf4386e0e683111a61434a261b53" target="_blank" rel="noopener">Tools of the Trade</a>
            <a href="https://coursera.org/share/72b07b47471003af97d970f8a0199fab" target="_blank" rel="noopener">Connect &amp; Protect</a>
          </div>
        </article>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" aria-labelledby="contact-title">
      <h2 class="section-title" id="contact-title">Contact</h2>
      <div class="card">
        <form id="contactForm" action="https://formspree.io/f/your-form-id" method="POST" novalidate>
          <div class="row" style="gap:12px;flex-wrap:wrap">
            <input class="input" type="text" name="name" placeholder="Your name" aria-label="Your name" required />
            <input class="input" type="email" name="email" placeholder="you@example.com" aria-label="Your email" required />
          </div>
          <textarea class="input" name="message" placeholder="Tell me about your project or role..." aria-label="Message" rows="5" required style="margin-top:10px;width:100%"></textarea>
          <div class="row" style="margin-top:10px">
            <button class="btn" type="submit">Send Message</button>
            <button class="btn secondary" type="button" id="copyEmail">Copy Email</button>
            <a class="btn secondary" href="/resume.pdf" target="_blank" rel="noopener">Open R√©sum√©</a>
          </div>
          <p id="formStatus" class="meta" role="status" aria-live="polite" style="margin-top:8px"></p>
        </form>
        <hr style="border:none;border-top:1px solid var(--border);margin:16px 0" />
        <p><strong>Email:</strong> <a id="emailLink" href="mailto:talhamustafa642@gmail.com">talhamustafa642@gmail.com</a></p>
        <p><strong>WhatsApp:</strong> <a href="https://wa.me/923302479956" target="_blank" rel="noopener">+92 330 2479956</a></p>
        <p><strong>GitHub:</strong> <a href="https://github.com/Mustafa-Hazard" target="_blank" rel="noopener">Mustafa-Hazard</a></p>
        <p><strong>LinkedIn:</strong> <a href="https://linkedin.com/in/mustafa-muhammad-i-75434922b" target="_blank" rel="noopener">mustafa-muhammad-i-75434922b</a></p>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="wrap">
      <div>&copy; <span id="year"></span> Mustafa Iqbal. All rights reserved.</div>
      <div class="meta">
        Last updated: <span id="lastUpdated"></span> ¬∑
        <span class="kbd">/</span> Toggle theme: click ‚Äúüåó Theme‚Äù
      </div>
    </div>
  </footer>

  <!-- Back to top -->
  <button id="toTop" aria-label="Back to top">‚ñ≤ Top</button>

  <script>
    // ---------- Theme Toggle with Persistence ----------
    (function() {
      const root = document.documentElement;
      const saved = localStorage.getItem('theme');
      if (saved === 'light') root.classList.add('light');
      document.getElementById('themeToggle')?.addEventListener('click', () => {
        root.classList.toggle('light');
        localStorage.setItem('theme', root.classList.contains('light') ? 'light' : 'dark');
      });
    })();

    // ---------- Footer Year & Last Updated ----------
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('lastUpdated').textContent = document.lastModified ? new Date(document.lastModified).toLocaleString() : new Date().toLocaleString();

    // ---------- Copy Email ----------
    document.getElementById('copyEmail')?.addEventListener('click', async () => {
      const email = 'talhamustafa642@gmail.com';
      const status = document.getElementById('formStatus') || document.createElement('p');
      try {
        await navigator.clipboard.writeText(email);
        status.textContent = 'Email copied to clipboard ‚úî';
        status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--success');
      } catch {
        status.textContent = 'Could not copy email ‚Äî right click and copy manually.';
        status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--danger');
      }
      setTimeout(() => status.textContent = '', 2500);
    });

    // ---------- Projects search & tag filter ----------
    (function(){
      const search = document.getElementById('projectSearch');
      const clear = document.getElementById('clearSearch');
      const tags = Array.from(document.querySelectorAll('.tag'));
      const cards = Array.from(document.querySelectorAll('.project'));
      const noResults = document.getElementById('noResults');

      function applyFilter() {
        const q = (search.value || '').trim().toLowerCase();
        const activeTags = tags.filter(t => t.classList.contains('active')).map(t => t.dataset.tag.toLowerCase());

        let shown = 0;
        cards.forEach(card => {
          const title = card.querySelector('h3').textContent.toLowerCase();
          const body = card.textContent.toLowerCase();
          const cardTags = (card.dataset.tags || '').toLowerCase();

          const matchesText = !q || title.includes(q) || body.includes(q);
          const matchesTags = activeTags.length === 0 || activeTags.some(t => cardTags.includes(t));

          const visible = matchesText && matchesTags;
          card.style.display = visible ? '' : 'none';
          if (visible) shown++;
        });

        noResults.style.display = shown ? 'none' : '';
      }

      search?.addEventListener('input', applyFilter);
      clear?.addEventListener('click', () => { search.value=''; tags.forEach(t=>t.classList.remove('active')); applyFilter(); });
      tags.forEach(tag => tag.addEventListener('click', () => { tag.classList.toggle('active'); applyFilter(); }));
      applyFilter();
    })();

    // ---------- Back to top ----------
    (function(){
      const btn = document.getElementById('toTop');
      const showAfter = 300; // px
      window.addEventListener('scroll', () => {
        btn.style.display = window.scrollY > showAfter ? 'block' : 'none';
      });
      btn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));
    })();

    // ---------- Simple form validation (no backend needed) ----------
    (function(){
      const form = document.getElementById('contactForm');
      const status = document.getElementById('formStatus');
      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        status.textContent = '';

        const data = new FormData(form);
        const name = (data.get('name') || '').toString().trim();
        const email = (data.get('email') || '').toString().trim();
        const message = (data.get('message') || '').toString().trim();

        if (!name || !email || !message) {
          status.textContent = 'Please fill out all fields.';
          status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--danger');
          return;
        }
        // Basic email check
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          status.textContent = 'Please enter a valid email.';
          status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--danger');
          return;
        }

        // Submit to Formspree (replace action with your endpoint)
        try {
          const resp = await fetch(form.action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' }});
          if (resp.ok) {
            form.reset();
            status.textContent = 'Thanks! Your message has been sent.';
            status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--success');
          } else {
            status.textContent = 'Something went wrong. You can email me directly.';
            status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--danger');
          }
        } catch {
          status.textContent = 'Network error ‚Äî please email me directly.';
          status.style.color = getComputedStyle(document.documentElement).getPropertyValue('--danger');
        }
      });
    })();

    // ---------- Lightweight click tracking (console) ----------
    (function(){
      const log = (label, href) => console.info('[analytics]', label, href);
      document.getElementById('resumeBtn')?.addEventListener('click', (e)=> log('resume_click', e.currentTarget.href));
      document.querySelectorAll('a[target="_blank"]').forEach(a => {
        a.addEventListener('click', () => log('outbound', a.href));
      });
    })();
  </script>
</body>
</html>
